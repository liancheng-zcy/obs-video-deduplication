--[[
 .____                  ________ ___.    _____                           __                
 |    |    __ _______   \_____  \\_ |___/ ____\_ __  ______ ____ _____ _/  |_  ___________ 
 |    |   |  |  \__  \   /   |   \| __ \   __\  |  \/  ___// ___\\__  \\   __\/  _ \_  __ \
 |    |___|  |  // __ \_/    |    \ \_\ \  | |  |  /\___ \\  \___ / __ \|  | (  <_> )  | \/
 |_______ \____/(____  /\_______  /___  /__| |____//____  >\___  >____  /__|  \____/|__|   
         \/          \/         \/    \/                \/     \/     \/                   
          \_Welcome to LuaObfuscator.com   (Alpha 0.10.8) ~  Much Love, Ferib 

]]--

local v0=string.char;local v1=string.byte;local v2=string.sub;local v3=bit32 or bit ;local v4=v3.bxor;local v5=table.concat;local v6=table.insert;local function v7(v55,v56) local v57={};for v112=1, #v55 do v6(v57,v0(v4(v1(v2(v55,v112,v112 + 1 )),v1(v2(v56,1 + (v112% #v56) ,1 + (v112% #v56) + 1 )))%256 ));end return v5(v57);end obs=obslua;local v8=script_path():match("(.*[/\\])");local v9=v8   .. v7("\221\202\216\32\232\168\194\80\218\198\194","\126\177\163\187\69\134\219\167") ;local v10=v8   .. v7("\47\204\57\209\195\49\216\36\139\232\59\217","\156\67\173\74\165") ;local v11="请激活使用完整功能，未激活只能看到轻微的晃动和模糊，色彩不生效";local v12=false;local function v13(v58,v59) local v60=694 -(619 + 75) ;local v61;local v62;while true do if (v60==0) then v61=0 -0 ;v62=1;v60=807 -(118 + 688) ;end if (v60==1) then for v125=48 -(25 + 23) ,7 do local v126=0;local v127;local v128;while true do if (v126==(1 + 0)) then if (v127~=v128) then v61=v61 + v62 ;end v58=math.floor(v58/(1888 -(927 + 959)) );v126=2;end if (v126==(6 -4)) then v59=math.floor(v59/(734 -(16 + 716)) );v62=v62 * (3 -1) ;break;end if (v126==0) then v127=v58%(99 -(11 + 86)) ;v128=v59%2 ;v126=2 -1 ;end end end return v61;end end end local function v14(v63,v64) local v65=285 -(175 + 110) ;local v66;while true do local v113=0 -0 ;while true do if (v113==(0 -0)) then if (v65==(1796 -(503 + 1293))) then v66="";for v161=1, #v63 do local v162=string.byte(v63,v161);local v163=string.byte(v64,((v161-1)% #v64) + (2 -1) );v66=v66   .. string.char(v13(v162,v163)) ;end v65=1 + 0 ;end if (v65==1) then return v66;end break;end end end end local function v15(v67) local v68=1061 -(810 + 251) ;local v69;while true do if (v68==(0 + 0)) then v69=0 + 0 ;for v129=1, #v67 do v69=((v69 * (28 + 3)) + string.byte(v67,v129))%((535 -(43 + 490))^(765 -(711 + 22))) ;end v68=3 -2 ;end if (v68==(860 -(240 + 619))) then return tostring(v69);end end end local function v16(v70) local v71=0 + 0 ;local v72;local v73;local v74;local v75;local v76;local v77;local v78;local v79;local v80;local v81;local v82;local v83;while true do if (v71==(1 -0)) then v74,v75=v73:match(v7("\24\45\28\72\195\27\95\120\90\197\110\76\31\89\183","\158\48\118\66\114"));if ( not v74 or  not v75) then local v132=0;while true do if (v132==(0 + 0)) then print("许可证格式错误！");return false;end end end v76=v15(v74);if (v75~=v76) then local v133=1744 -(1344 + 400) ;while true do if (v133==0) then print("许可证文件被篡改！功能受限。");return false;end end end v71=2;end if (v71==(405 -(255 + 150))) then v72=io.open(v70,"r");if  not v72 then local v134=0;while true do if ((0 + 0)==v134) then print("许可证文件未找到！请将 license.key 放入脚本目录。");return false;end end end v73=v72:read(v7("\126\182\69\26","\38\84\215\41\118\220\70"));v72:close();v71=1 + 0 ;end if (v71==(12 -9)) then v81=tonumber(v80);if  not v81 then print("许可证到期时间格式错误！");return false;end v82=os.date(v7("\182\67","\38\156\55\199"),v81);v11=string.format(v7("\237\45\40\44\94\49\170\17\172\48\57\120\65\112","\35\200\29\28\72\115\20\154"),v82.year,v82.month,v82.day);v71=4;end if (v71==(12 -8)) then print("许可证到期时间: "   .. v11 );v83=os.time();return v83<=v81 ;end if ((1741 -(404 + 1335))==v71) then local v123=0;while true do if (v123==(406 -(183 + 223))) then v77=v7("\128\46\73\38\95\247\246\133\60\71\32\66\241\239\153\51\41\110\105\135\174\168\2\65\50\91\246\252\129\114\27","\155\203\68\112\86\19\197");v78=v14(v74,v77);v123=1 -0 ;end if ((1 + 0)==v123) then v79,v80=v78:match(v7("\14\230\8\166\125\51\172\162\14\230\8\166\125\51\172","\152\38\189\86\156\32\24\133"));if ( not v79 or  not v80) then print("许可证解密失败！");return false;end v123=1 + 1 ;end if (v123==(339 -(10 + 327))) then v71=3 + 0 ;break;end end end end end local v17=338 -(118 + 220) ;local v18=4 + 6 ;local v19=false;local function v20() local v84=449 -(108 + 341) ;local v85;local v86;while true do if ((2 + 1)==v84) then if v86 then local v135=0 -0 ;while true do if (v135==(1493 -(711 + 782))) then v86:write(tostring(v85));v86:close();break;end end end return true;end if (v84==(3 -1)) then if v86 then local v136=tonumber(v86:read(v7("\83\190\221\211","\84\121\223\177\191\237\76"))) or (469 -(270 + 199)) ;v86:close();if (v85<v136) then print("检测到时间篡改！功能受限。");v19=true;return false;end end v86=io.open(v10,"w");v84=1 + 2 ;end if (v84==1) then v17=v85;v86=io.open(v10,"r");v84=1821 -(580 + 1239) ;end if (v84==(0 -0)) then v85=os.time();if ((v85-v17)<v18) then return  not v19;end v84=1;end end end v12=v16(v9);function script_description() return "视频滤镜去重与晃动模糊效果脚本V1.0\n"   .. "安装步骤：\n"   .. "1.将 license.key 放入脚本目录。\n"   .. "2 晃动模糊效果请添加名为 'zoom_blur_filter' 的用户定义着色器滤镜并选择 zoom_blur.shader，否则不生效。\n"   .. "____________________________________________________________________________________________\n"   .. "到期时间："   .. v11   .. "\n"   .. "联系方式：V:LiAnChenglac/@B站大成子ONLYYO" ;end function script_properties() local v87=0;local v88;local v89;local v90;while true do if (v87==0) then v88=obs.obs_properties_create();v89=obs.obs_properties_add_list(v88,v7("\168\89\220\178\57\85","\161\219\54\169\192\90\48\80"),"视频源",obs.OBS_COMBO_TYPE_LIST,obs.OBS_COMBO_FORMAT_STRING);obs.obs_property_list_add_string(v89,"","");v90=obs.obs_enum_sources();v87=1 + 0 ;end if (3==v87) then obs.obs_properties_add_float_slider(v88,v7("\178\236\46\222\8\145\62\206\184\214\40\217\17\169\59\211\184\236\57\216","\167\214\137\74\171\120\206\83"),"最小亮度", -(1 + 0),1 + 0 ,0.01);obs.obs_properties_add_float_slider(v88,v7("\143\245\54\72\232\152\134\241\42\98\250\181\130\247\58\73\246\162\152\227","\199\235\144\82\61\152"),"最大亮度", -1,1,0.01);obs.obs_properties_add_float_slider(v88,v7("\3\19\189\62\23\41\180\34\9\41\186\36\9\2\171\42\20\2","\75\103\118\217"),"最小对比度", -1,1,0.01 -0 );obs.obs_properties_add_float_slider(v88,v7("\195\81\116\1\169\33\202\85\104\43\186\17\201\64\98\21\170\10","\126\167\52\16\116\217"),"最大对比度", -(1 + 0),1168 -(645 + 522) ,1790.01 -(1010 + 780) );v87=4;end if (v87==(4 + 0)) then obs.obs_properties_add_float_slider(v88,v7("\204\43\36\149\164\38\241\193\32\31\147\181\13\233\218\47\52\137\187\23","\156\168\78\64\224\212\121"),"最小饱和度",0,2,0.01 -0 );obs.obs_properties_add_float_slider(v88,v7("\3\235\161\219\23\209\168\207\31\209\182\207\19\251\183\207\19\231\170\192","\174\103\142\197"),"最大饱和度",0 -0 ,1838 -(1045 + 791) ,0.01);obs.obs_properties_add_int(v88,v7("\82\45\91\45\53\97\237\70\44\94\44\32\97\241\88\60\90\42\51\95\244","\152\54\72\63\88\69\62"),"色彩去重更新间隔 (毫秒)",253 -153 ,15269 -5269 ,605 -(351 + 154) );obs.obs_properties_add_bool(v88,v7("\199\204\239\87\209\251\235\82\213\198\226\89\208","\60\180\164\142"),"启用晃动模糊效果");v87=5;end if (v87==(1580 -(1281 + 293))) then local v124=266 -(28 + 238) ;while true do if (v124==(0 -0)) then obs.obs_properties_add_int_slider(v88,v7("\208\7\131\252\207\252\28\146\242\207\199\48\146\242\216\192\10\140\227\245\213\14\142\226\207","\170\163\111\226\151"),"动画速度（模糊） (%)",1559 -(1381 + 178) ,94 + 6 ,1);obs.obs_properties_add_float_slider(v88,v7("\2\56\179\51\75\8\43\29\37\160\7\93\39\44\20\52\141\62\79\52\61\30\34","\73\113\80\210\88\46\87"),"模糊晃动关联度",0,1 + 0 ,0.01 + 0 );v124=3 -2 ;end if (v124==1) then obs.obs_properties_add_int(v88,v7("\146\36\204\25\226\190\57\221\22\230\149\41\242\27\233\149\41\223\4\230\141","\135\225\76\173\114"),"晃动模糊更新间隔 (毫秒)",26 + 24 ,1000,520 -(381 + 89) );return v88;end end end if (v87==2) then obs.obs_properties_add_bool(v88,v7("\207\57\35\243\206\149\206\50\38\228\210\175\244\63\40\232\202\184\202\47\51","\202\171\92\71\134\190"),"启用对比度调整");obs.obs_properties_add_bool(v88,v7("\45\196\40\157\57\254\41\134\40\195\32\141\22\210\45\156\60\211\45\156\32\206\34","\232\73\161\76"),"启用饱和度调整");obs.obs_properties_add_float_slider(v88,v7("\191\220\70\72\14\132\212\75\83\33\180\223\68\78\27\175","\126\219\185\34\61"),"最小偏移值", -(1 + 0),1,0.01 + 0 );obs.obs_properties_add_float_slider(v88,v7("\8\203\90\103\110\72\254\230\20\241\81\116\120\100\246\243","\135\108\174\62\18\30\23\147"),"最大偏移值", -(1 -0),1,0.01);v87=1159 -(1074 + 82) ;end if (v87==(10 -5)) then obs.obs_properties_add_float_slider(v88,v7("\75\86\4\34\34\210\19\85\78\9\32\51\248\22\93","\114\56\62\101\73\71\141"),"晃动幅度",1784 -(214 + 1570) ,1475 -(990 + 465) ,0.1);obs.obs_properties_add_float_slider(v88,v7("\171\225\218\207\189\214\221\214\189\248\206\193\182\234\194","\164\216\137\187"),"晃动频率",0.01 + 0 ,1 + 0 ,0.01);obs.obs_properties_add_float_slider(v88,v7("\193\238\48\185\163\193\9\222\243\35\141\181\234\25\215\232\54\166\174","\107\178\134\81\210\198\158"),"模糊强度（模糊）",0 + 0 ,1,0.01);obs.obs_properties_add_int_slider(v88,v7("\43\6\131\205\175\7\29\131\203\186\52\11\145\249\188\57\2\151\195","\202\88\110\226\166"),"采样次数（模糊）",0 -0 ,1826 -(1668 + 58) ,627 -(512 + 114) );v87=15 -9 ;end if (v87==(1 -0)) then if v90 then for v158,v159 in ipairs(v90) do local v160=obs.obs_source_get_name(v159);if (bit.band(obs.obs_source_get_output_flags(v159),obs.OBS_SOURCE_VIDEO)~=(0 -0)) then obs.obs_property_list_add_string(v89,v160,v160);end end obs.source_list_release(v90);end obs.obs_properties_add_bool(v88,v7("\77\71\4\48\89\125\5\43\72\64\12\32\77","\69\41\34\96"),"启用滤镜去重滤镜");obs.obs_properties_add_bool(v88,v7("\184\198\211\31\18\20\185\205\214\8\14\46\131\204\209\12\17\46\168","\75\220\163\183\106\98"),"启用偏移调整");obs.obs_properties_add_bool(v88,v7("\6\191\143\34\201\61\191\133\54\219\14\191\180\53\203\11\189\131\35\215\7\169\152","\185\98\218\235\87"),"启用亮度调整");v87=1 + 1 ;end end end function script_defaults(v91) obs.obs_data_set_default_bool(v91,v7("\30\232\188\165\188\130\162\20\236\186\188\169\185","\199\122\141\216\208\204\221"),true);obs.obs_data_set_default_bool(v91,v7("\169\216\20\229\104\201\168\211\17\242\116\243\146\210\22\246\107\243\185","\150\205\189\112\144\24"),true);obs.obs_data_set_default_bool(v91,v7("\33\129\187\89\20\183\20\30\36\134\179\73\59\138\3\25\34\140\171\66\1\155\2","\112\69\228\223\44\100\232\113"),true);obs.obs_data_set_default_bool(v91,v7("\208\26\3\198\166\67\131\218\30\5\223\179\67\133\219\17\19\193\183\111\146","\230\180\127\103\179\214\28"),true);obs.obs_data_set_default_bool(v91,v7("\136\0\91\83\244\126\229\130\4\93\74\225\126\243\141\17\74\84\229\85\233\131\11","\128\236\101\63\38\132\33"),true);obs.obs_data_set_default_double(v91,v7("\168\172\21\81\166\212\194\165\167\46\75\176\237\220\169\189","\175\204\201\113\36\214\139"), -(0.01 + 0));obs.obs_data_set_default_double(v91,v7("\67\201\49\201\20\120\193\52\196\59\72\202\51\207\1\83","\100\39\172\85\188"),0.01 + 0 );obs.obs_data_set_default_double(v91,v7("\169\125\189\149\35\146\117\176\142\12\175\106\176\135\59\185\118\188\147\32","\83\205\24\217\224"), -0.05);obs.obs_data_set_default_double(v91,v7("\226\192\201\40\246\250\192\60\254\250\207\47\239\194\197\41\232\192\222\46","\93\134\165\173"),0.05 -0 );obs.obs_data_set_default_double(v91,v7("\186\247\197\215\42\241\191\119\176\205\194\205\52\218\160\127\173\230","\30\222\146\161\162\90\174\210"), -0.03);obs.obs_data_set_default_double(v91,v7("\225\75\116\31\245\113\125\11\253\113\115\5\235\90\98\11\246\90","\106\133\46\16"),0.03);obs.obs_data_set_default_double(v91,v7("\92\37\119\233\74\127\85\41\125\195\73\65\76\53\97\253\78\73\87\46","\32\56\64\19\156\58"),1994.99 -(109 + 1885) );obs.obs_data_set_default_double(v91,v7("\94\205\225\67\74\205\141\91\208\218\69\91\230\149\72\201\241\95\85\252","\224\58\168\133\54\58\146"),1.03);obs.obs_data_set_default_int(v91,v7("\93\83\79\232\101\185\146\27\93\87\95\248\74\143\137\31\92\68\93\252\121","\107\57\54\43\157\21\230\231"),2000);obs.obs_data_set_default_bool(v91,v7("\200\131\16\254\188\227\202\213\138\19\249\188\216","\175\187\235\113\149\217\188"),true);obs.obs_data_set_default_double(v91,v7("\47\167\128\71\230\70\121\49\191\141\69\247\108\124\57","\24\92\207\225\44\131\25"),3);obs.obs_data_set_default_double(v91,v7("\88\219\185\71\30\66\77\193\189\93\14\120\69\208\161","\29\43\179\216\44\123"),1469.5 -(1269 + 200) );obs.obs_data_set_default_double(v91,v7("\174\209\33\71\184\230\34\64\168\203\31\95\169\203\37\66\186\205\40","\44\221\185\64"),0.5);obs.obs_data_set_default_double(v91,v7("\18\239\73\84\118\62\229\68\74\97\62\244\88\90\118\5\216\78\94\112\21\232\90","\19\97\135\40\63"),0.2);obs.obs_data_set_default_int(v91,v7("\189\84\50\48\42\14\189\93\62\43\35\52\189\99\37\58\35\36\171","\81\206\60\83\91\79"),32);obs.obs_data_set_default_int(v91,v7("\93\163\209\121\42\252\94\180\75\174\212\77\63\198\95\167\75\165\196\77\57\194\65\177\75","\196\46\203\176\18\79\163\45"),0 -0 );obs.obs_data_set_default_int(v91,v7("\171\42\127\21\33\196\250\168\38\127\10\33\196\230\182\54\123\12\50\250\227","\143\216\66\30\126\68\155"),915 -(98 + 717) );end local v21="";local v22=826 -(802 + 24) ;local v23=nil;local v24=nil;local v25={[v7("\165\206\11\216\192\183","\129\202\168\109\171\165\195\183")]=0,[v7("\32\74\62\223\214\0\232\39\75\36","\134\66\56\87\184\190\116")]=0,[v7("\63\62\7\175\11\234\50\33","\85\92\81\105\219\121\139\65")]=0 -0 ,[v7("\238\178\68\80\110\222\233\186\95\75","\191\157\211\48\37\28")]=1 -0 };local v26={[v7("\208\25\242\15\63\203","\90\191\127\148\124")]=0,[v7("\122\149\39\16\112\147\32\18\107\148","\119\24\231\78")]=0 + 0 ,[v7("\129\34\171\94\206\65\2\150","\113\226\77\197\42\188\32")]=0 + 0 ,[v7("\41\23\224\160\40\23\224\188\53\24","\213\90\118\148")]=1 + 0 };local v27=0 + 0 ;local v28=2781 -1781 ;local v29=0;local v30=false;local v31=false;local v32=9 -6 ;local v33=0.5 + 0 ;local v34=0.5 + 0 ;local v35=0.2 + 0 ;local v36=32;local v37=0;local v38=true;local v39=0 + 0 ;local v40=0 + 0 ;local v41=1433 -(797 + 636) ;local v42=0;local v43=0;local v44=0 -0 ;local v45=0.95;local v46=nil;local v47=1619 -(1427 + 192) ;local v48=35 + 65 ;local v49=false;local function v50(v92,v93) return v92 + ((v93-v92) * math.random()) ;end local function v51() local v94=0 -0 ;while true do if (v94==(0 + 0)) then if  not v24 then return true;end return  not obs.obs_data_get_bool(v24,v7("\95\43\176\67\93\100\43\186\87\79\87\43\139\89\75\93\61\177\66","\45\59\78\212\54")) and  not obs.obs_data_get_bool(v24,v7("\20\83\135\158\150\17\168\254\17\84\143\142\185\44\191\249\23\94\151\133\131\61\190","\144\112\54\227\235\230\78\205")) and  not obs.obs_data_get_bool(v24,v7("\183\45\11\233\192\100\182\38\14\254\220\94\140\43\0\242\196\73\178\59\27","\59\211\72\111\156\176")) and  not obs.obs_data_get_bool(v24,v7("\74\130\231\56\94\184\230\35\79\133\239\40\113\148\226\57\91\149\226\57\71\136\237","\77\46\231\131")) ;end end end local function v52() local v95=0 + 0 ;local v96;while true do if (v95==(330 -(192 + 134))) then obs.obs_data_release(v96);if (v29>=2000) then local v137=1276 -(316 + 960) ;while true do if (v137==(0 + 0)) then print(string.format("[滤镜去重] 滤镜参数 - 偏移: %.4f, 亮度: %.4f, 对比度: %.4f, 饱和度: %.4f",v25.offset,v25.brightness,v25.contrast,v25.saturation));v29=0 + 0 ;break;end end end break;end if (v95==(3 + 0)) then obs.obs_data_set_double(v96,v7("\229\16\243\206\239\22\244\204\244\17","\169\135\98\154"),v25.brightness);obs.obs_data_set_double(v96,v7("\200\120\42\64\239\50\219\223","\168\171\23\68\52\157\83"),v25.contrast);obs.obs_data_set_double(v96,v7("\231\112\225\184\55\44\147\253\126\251","\231\148\17\149\205\69\77"),v25.saturation);obs.obs_source_update(v23,v96);v95=15 -11 ;end if (v95==0) then if ( not v23 or  not v24) then if  not v31 then print("[滤镜去重] 滤镜或设置未初始化，跳过更新");v31=true;end return;end v31=false;if ( not obs.obs_data_get_bool(v24,v7("\190\81\178\85\170\107\179\78\187\86\186\69\190","\32\218\52\214")) or v51()) then local v138=551 -(83 + 468) ;local v139;while true do if (v138==1) then if v23 then local v177=0;while true do if (v177==(1807 -(1202 + 604))) then if  not v30 then local v194=0 -0 ;local v195;while true do if (v194==(0 -0)) then v195=0 -0 ;while true do if (v195==0) then print("[滤镜去重] 去重滤镜已关闭，跳过更新");v30=true;break;end end break;end end end break;end if (v177==(325 -(45 + 280))) then obs.obs_source_release(v23);v23=nil;v177=1 + 0 ;end end end return;end if (v138==(0 + 0)) then v139=obs.obs_get_source_by_name(v21);if (v139 and v23) then obs.obs_source_filter_remove(v139,v23);obs.obs_source_release(v139);end v138=1;end end end v30=false;v95=1;end if (v95==1) then v29=v29 + 37 + 63 ;if (v29>=2000) then local v140=0;local v141;local v142;local v143;local v144;while true do if (v140==2) then print(string.format("[滤镜去重] 参数状态 - 偏移: %s, 亮度: %s, 对比度: %s, 饱和度: %s",v141,v142,v143,v144));break;end if (v140==(1 + 0)) then local v171=0 + 0 ;while true do if (v171==(1 -0)) then v140=2;break;end if ((1911 -(340 + 1571))==v171) then v143=(obs.obs_data_get_bool(v24,v7("\118\68\115\144\238\180\119\79\118\135\242\142\77\66\120\139\234\153\115\82\99","\235\18\33\23\229\158")) and "开启") or "关闭" ;v144=(obs.obs_data_get_bool(v24,v7("\84\191\197\174\64\133\196\181\81\184\205\190\111\169\192\175\69\168\192\175\89\181\207","\219\48\218\161")) and "开启") or "关闭" ;v171=1 + 0 ;end end end if (0==v140) then v141=(obs.obs_data_get_bool(v24,v7("\74\18\53\189\225\143\64\84\79\21\61\173\206\191\67\92\93\18\37","\58\46\119\81\200\145\208\37")) and "开启") or "关闭" ;v142=(obs.obs_data_get_bool(v24,v7("\47\137\52\185\185\130\51\37\141\50\160\172\130\52\57\133\55\164\189\179\51\56\159","\86\75\236\80\204\201\221")) and "开启") or "关闭" ;v140=1;end end end if  not obs.obs_data_get_bool(v24,v7("\224\116\120\92\203\112\229\234\112\126\69\222\112\239\226\119\111\76\207","\128\132\17\28\41\187\47")) then v25.offset=1772 -(1733 + 39) ;end if  not obs.obs_data_get_bool(v24,v7("\5\55\2\47\77\62\55\8\59\95\13\55\57\56\79\8\53\14\46\83\4\33\21","\61\97\82\102\90")) then v25.brightness=0;end v95=5 -3 ;end if (v95==2) then if  not obs.obs_data_get_bool(v24,v7("\168\43\175\94\215\104\27\7\173\44\167\78\248\84\17\7\184\60\170\88\211","\105\204\78\203\43\167\55\126")) then v25.contrast=0;end if  not obs.obs_data_get_bool(v24,v7("\161\175\39\11\3\59\194\95\164\168\47\27\44\23\198\69\176\184\34\10\26\11\201","\49\197\202\67\126\115\100\167")) then v25.saturation=1035 -(125 + 909) ;end v96=obs.obs_data_create();obs.obs_data_set_double(v96,v7("\52\84\211\38\146\105\95\51\95","\62\87\59\191\73\224\54"),v25.offset);v95=1951 -(1096 + 852) ;end end end local function v53(v97) if  not v97 then print("[滤镜去重] 无效视频源");return false;end if v23 then local v114=0 + 0 ;while true do if (v114==(0 -0)) then print("[滤镜去重] 滤镜已存在，跳过创建");return true;end end end local v98=obs.obs_data_create();v23=obs.obs_source_create(v7("\131\168\203\244\69\192\134\174\203\239\82\237","\159\224\199\167\155\55"),v7("\193\250\56\215\248\215\57\214\226\227\48\219\244\242\40\219\248\253\26\219\251\231\57\192","\178\151\147\92"),v98,nil);if  not v23 then local v115=0;while true do if (v115==1) then return false;end if (v115==0) then print("[滤镜去重] 无法创建滤镜");obs.obs_data_release(v98);v115=1 + 0 ;end end end obs.obs_source_filter_add(v97,v23);obs.obs_data_release(v98);print("[滤镜去重] 滤镜创建成功");return true;end local function v54(v99) local v100=512 -(409 + 103) ;local v101;local v102;while true do if (v100==(236 -(46 + 190))) then if  not v99 then return;end v101=obs.obs_source_get_filter_by_name(v99,v7("\150\242\67\63\45\78\118\153\239\115\52\27\64\110\137\239","\26\236\157\44\82\114\44"));v100=96 -(51 + 44) ;end if (v100==(1 + 0)) then if  not v101 then local v149=0;while true do if (v149==0) then if (v40>=1) then print("[晃动模糊] 未找到 'zoom_blur_filter' 滤镜，请添加并选择 zoom_blur.shader");v40=1317 -(1114 + 203) ;end return;end end end v102=obs.obs_data_create();v100=728 -(228 + 498) ;end if (v100==(1 + 1)) then if (v38 and v12) then local v150=0 + 0 ;local v151;local v152;local v153;while true do if (v150==(665 -(174 + 489))) then obs.obs_data_set_double(v102,v7("\39\47\210\85\35\58\192\95\47","\59\74\78\181"),v153);obs.obs_data_set_int(v102,v7("\54\208\87\74\191\32\194","\211\69\177\58\58"),math.max(v36,2 -1 ));v150=1908 -(830 + 1075) ;end if (v150==(525 -(303 + 221))) then local v172=1269 -(231 + 1038) ;local v173;while true do if (v172==0) then v173=0;while true do if (v173==(0 + 0)) then v153=v34 + v152 ;v153=math.min(math.max(v153,1162 -(171 + 991) ),4 -3 );v173=2 -1 ;end if (v173==1) then v150=2;break;end end break;end end end if (v150==(9 -5)) then v49=false;break;end if (v150==(3 + 0)) then obs.obs_data_set_int(v102,v7("\164\245\124\240\237\244\167\224\107\246\236\197\163","\171\215\133\25\149\137"),v37);if (v40>=1) then print(string.format("[晃动模糊] 动态模糊: %.4f, 速度: %.4f",v153,v151));v40=0;end v150=13 -9 ;end if (v150==0) then v151=math.sqrt((v43^(5 -3)) + (v44^2) )/(0.1 -0) ;v152=math.sqrt(v151) * (0.075 -0) * v35 ;v150=1249 -(111 + 1137) ;end end else obs.obs_data_set_double(v102,v7("\236\201\53\244\230\36\233\70\228","\34\129\168\82\154\143\80\156"),158 -(91 + 67) );obs.obs_data_set_int(v102,v7("\150\179\62\27\68\75\154","\233\229\210\83\107\40\46"),2 -1 );obs.obs_data_set_int(v102,v7("\210\82\55\211\1\254\82\55\196\6\196\76\38","\101\161\34\82\182"),0 + 0 );if  not v49 then local v164=0;while true do if (v164==(523 -(423 + 100))) then print("[晃动模糊] 晃动模糊效果已关闭");v49=true;break;end end end end obs.obs_source_update(v101,v102);v100=1 + 2 ;end if (v100==(7 -4)) then obs.obs_data_release(v102);obs.obs_source_release(v101);break;end end end function script_update(v103) local v104=0 + 0 ;local v105;local v106;local v107;while true do if (v104==0) then v24=v103;v105=obs.obs_data_get_string(v24,v7("\251\2\76\236\216\231","\78\136\109\57\158\187\130\226"));if (v105~=v21) then local v154=771 -(326 + 445) ;local v155;while true do if (v154==1) then v155=obs.obs_get_source_by_name(v21);if v155 then local v178=0;while true do if ((4 -3)==v178) then obs.obs_source_release(v155);break;end if (v178==(0 -0)) then if (obs.obs_data_get_bool(v24,v7("\58\58\253\228\46\0\252\255\63\61\245\244\58","\145\94\95\153")) and  not v51() and v12) then v53(v155);end v54(v155);v178=2 -1 ;end end end break;end if ((711 -(530 + 181))==v154) then v21=v105;if v23 then local v179=obs.obs_get_source_by_name(v21);if v179 then local v184=881 -(614 + 267) ;local v185;while true do if (v184==0) then v185=32 -(19 + 13) ;while true do if (v185==0) then obs.obs_source_filter_remove(v179,v23);obs.obs_source_release(v179);break;end end break;end end end obs.obs_source_release(v23);v23=nil;end v154=1 -0 ;end end end v38=obs.obs_data_get_bool(v24,v7("\238\197\21\222\75\136\248\195\21\215\66\178\249","\215\157\173\116\181\46"));v104=2 -1 ;end if (v104==2) then v36=obs.obs_data_get_int(v24,v7("\0\221\131\240\239\248\0\212\143\235\230\194\0\234\148\250\230\210\22","\167\115\181\226\155\138"));v37=obs.obs_data_get_int(v24,v7("\241\42\230\87\126\78\213\242\39\226\88\68\97\195\240\33\226\82\111\78\208\227\46\242\89","\166\130\66\135\60\27\17"));v48=obs.obs_data_get_int(v24,v7("\87\66\207\126\53\123\95\222\113\49\80\79\241\124\62\80\79\220\99\49\72","\80\36\42\174\21"));v106=obs.obs_get_source_by_name(v21);v104=8 -5 ;end if (v104==(1 + 0)) then v32=obs.obs_data_get_double(v24,v7("\38\188\138\249\223\10\181\134\226\214\60\160\158\246\223","\186\85\212\235\146"));v33=obs.obs_data_get_double(v24,v7("\209\137\23\245\60\209\94\208\132\7\235\60\224\91\219","\56\162\225\118\158\89\142"));v34=obs.obs_data_get_double(v24,v7("\79\13\193\164\39\231\94\9\213\189\29\203\72\23\197\161\37\204\84","\184\60\101\160\207\66"));v35=obs.obs_data_get_double(v24,v7("\34\138\125\183\52\189\126\176\36\144\67\175\33\135\121\184\14\132\125\191\37\141\110","\220\81\226\28"));v104=3 -1 ;end if (v104==3) then if v106 then v52();v54(v106);obs.obs_source_release(v106);end v107=obs.obs_frontend_get_current_scene();if v107 then local v156=obs.obs_scene_from_source(v107);v46=obs.obs_scene_find_source(v156,v21);if v46 then local v165=0;local v166;while true do if (v165==1) then obs.obs_sceneitem_set_pos(v46,v166);break;end if (v165==(0 -0)) then v166=obs.vec2();obs.vec2_set(v166,1812 -(1293 + 519) ,0 -0 );v165=1;end end end obs.obs_source_release(v107);end break;end end end function timer_callback() if  not v24 then local v116=0;while true do if (v116==(0 -0)) then local v157=0 -0 ;while true do if ((0 -0)==v157) then print("设置未初始化，跳过定时器回调");return;end end end end end local v108=obs.obs_get_source_by_name(v21);if  not v108 then return;end local v109=os.clock() * (2355 -1355) ;if (obs.obs_data_get_bool(v24,v7("\74\21\51\111\94\47\50\116\79\18\59\127\74","\26\46\112\87")) and v12) then if ( not v23 and  not v51()) then v53(v108);end if v23 then local v130=0 + 0 ;local v131;while true do if (v130==(0 + 0)) then if  not v20() then local v174=0;while true do if (v174==1) then v26.contrast=0;v26.saturation=2 -1 ;break;end if (v174==0) then v26.offset=0 + 0 ;v26.brightness=0 + 0 ;v174=1 + 0 ;end end else if obs.obs_data_get_bool(v24,v7("\189\38\175\97\175\128\64\186\184\33\167\113\128\176\67\178\170\38\191","\212\217\67\203\20\223\223\37")) then v26.offset=v50(obs.obs_data_get_double(v24,v7("\190\136\172\199\170\178\165\219\180\178\167\212\188\158\173\198","\178\218\237\200")),obs.obs_data_get_double(v24,v7("\178\176\226\197\166\138\235\209\174\138\233\214\176\166\227\196","\176\214\213\134")));end if obs.obs_data_get_bool(v24,v7("\240\168\178\193\184\105\92\250\172\180\216\173\105\91\230\164\177\220\188\88\92\231\190","\57\148\205\214\180\200\54")) then v26.brightness=v50(obs.obs_data_get_double(v24,v7("\22\248\49\33\102\45\240\60\58\73\16\239\60\51\126\6\243\48\39\101","\22\114\157\85\84")),obs.obs_data_get_double(v24,v7("\192\206\23\209\77\201\165\197\211\44\198\79\255\175\204\223\29\193\78\229","\200\164\171\115\164\61\150")));end if obs.obs_data_get_bool(v24,v7("\186\241\7\80\147\129\241\13\68\129\178\241\60\70\140\176\224\17\68\144\170","\227\222\148\99\37")) then v26.contrast=v50(obs.obs_data_get_double(v24,v7("\55\87\86\227\233\12\95\91\248\198\48\93\92\226\235\50\65\70","\153\83\50\50\150")),obs.obs_data_get_double(v24,v7("\89\115\119\9\99\148\64\92\110\76\31\124\165\89\79\119\96\8","\45\61\22\19\124\19\203")));end if obs.obs_data_get_bool(v24,v7("\197\23\9\224\18\79\188\207\19\15\249\7\79\170\192\6\24\231\3\100\176\206\28","\217\161\114\109\149\98\16")) then v26.saturation=v50(obs.obs_data_get_double(v24,v7("\22\37\60\105\172\75\31\41\54\67\175\117\6\53\42\125\168\125\29\46","\20\114\64\88\28\220")),obs.obs_data_get_double(v24,v7("\53\4\214\161\232\239\176\48\25\237\167\249\196\168\35\0\198\189\247\222","\221\81\97\178\212\152\176")));end end v131=obs.obs_data_get_int(v24,v7("\201\226\25\238\10\242\242\13\255\27\217\226\34\242\20\217\226\15\237\27\193","\122\173\135\125\155"));v130=1097 -(709 + 387) ;end if (v130==(1859 -(673 + 1185))) then if (v27<v28) then local v175=0 -0 ;local v176;while true do if (v175==(9 -6)) then v52();break;end if (v175==1) then v25.offset=v25.offset + ((v26.offset-v25.offset) * v176) ;v25.brightness=v25.brightness + ((v26.brightness-v25.brightness) * v176) ;v175=2 -0 ;end if (v175==(2 + 0)) then v25.contrast=v25.contrast + ((v26.contrast-v25.contrast) * v176) ;v25.saturation=v25.saturation + ((v26.saturation-v25.saturation) * v176) ;v175=3 + 0 ;end if (v175==(0 -0)) then v27=v27 + 25 + 75 ;v176=math.min(v27/v28 ,1);v175=1 -0 ;end end end if ((v109-v22)>=v131) then v27=0 -0 ;v22=v109;end break;end end end else v52();end if (v38 and ((v109-v47)>=v48)) then local v117=0;local v118;local v119;local v120;while true do if ((1881 -(446 + 1434))==v117) then v119=v50( -v118,v118) * (1283.05 -(1040 + 243)) ;v120=v50( -v118,v118) * (0.05 -0) ;v43=(v43 + v119) * v45 ;v44=(v44 + v120) * v45 ;v117=1849 -(559 + 1288) ;end if (v117==(1934 -(609 + 1322))) then if v46 then local v167=obs.vec2();obs.vec2_set(v167,v41,v42);obs.obs_sceneitem_set_pos(v46,v167);end v54(v108);v47=v109;break;end if (v117==(456 -(13 + 441))) then v41=v41 + v43 ;v42=v42 + v44 ;v41=math.max(math.min(v41,v118), -v118);v42=math.max(math.min(v42,v118), -v118);v117=10 -7 ;end if (v117==(0 -0)) then v39=v39 + (v48/(4980 -3980)) ;v40=v40 + (v48/(38 + 962)) ;v118=v32;if ( not v12 or  not v20()) then local v168=0 -0 ;local v169;while true do if (v168==(0 + 0)) then v169=0;while true do if (v169==(0 + 0)) then v118=math.min(v32,5 -3 );v34=math.min(v34,0.3 + 0 );break;end end break;end end end v117=1;end end elseif  not v38 then v54(v108);end obs.obs_source_release(v108);end function script_load(v110) local v111=0 -0 ;while true do if (v111==0) then math.randomseed(os.time());v24=v110;v111=1 + 0 ;end if (v111==1) then print("[加载] 脚本初始化，许可证状态: "   .. ((v12 and "有效") or "无效") );obs.timer_add(timer_callback,56 + 44 );break;end end end function script_unload() obs.timer_remove(timer_callback);if v23 then local v121=0 + 0 ;local v122;while true do if (v121==(1 + 0)) then obs.obs_source_release(v23);v23=nil;v121=2 + 0 ;end if (v121==0) then v122=obs.obs_get_source_by_name(v21);if v122 then local v170=0;while true do if (v170==(433 -(153 + 280))) then obs.obs_source_filter_remove(v122,v23);obs.obs_source_release(v122);break;end end end v121=1;end if (v121==(5 -3)) then print("[滤镜去重] 卸载时移除滤镜");break;end end end print("[卸载] 脚本已卸载");end
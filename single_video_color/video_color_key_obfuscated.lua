--[[
 .____                  ________ ___.    _____                           __                
 |    |    __ _______   \_____  \\_ |___/ ____\_ __  ______ ____ _____ _/  |_  ___________ 
 |    |   |  |  \__  \   /   |   \| __ \   __\  |  \/  ___// ___\\__  \\   __\/  _ \_  __ \
 |    |___|  |  // __ \_/    |    \ \_\ \  | |  |  /\___ \\  \___ / __ \|  | (  <_> )  | \/
 |_______ \____/(____  /\_______  /___  /__| |____//____  >\___  >____  /__|  \____/|__|   
         \/          \/         \/    \/                \/     \/     \/                   
          \_Welcome to LuaObfuscator.com   (Alpha 0.10.8) ~  Much Love, Ferib 

]]--

local v0=string.char;local v1=string.byte;local v2=string.sub;local v3=bit32 or bit ;local v4=v3.bxor;local v5=table.concat;local v6=table.insert;local function v7(v30,v31) local v32={};for v92=1, #v30 do v6(v32,v0(v4(v1(v2(v30,v92,v92 + 1 )),v1(v2(v31,1 + (v92% #v31) ,1 + (v92% #v31) + 1 )))%256 ));end return v5(v32);end obs=obslua;local v8=script_path():match("(.*[/\\])");local v9=v8   .. v7("\221\202\216\32\232\168\194\80\218\198\194","\126\177\163\187\69\134\219\167") ;local v10=v8   .. v7("\47\204\57\209\195\49\216\36\139\232\59\217","\156\67\173\74\165") ;local v11="请激活使用完整功能";local v12=false;local function v13(v33,v34) local v35=0 + 0 ;local v36;local v37;while true do if (v35==(850 -(254 + 595))) then local v129=126 -(55 + 71) ;while true do if (v129==(0 -0)) then for v150=1790 -(573 + 1217) ,19 -12  do local v151=0 + 0 ;local v152;local v153;while true do if (v151==0) then v152=v33%2 ;v153=v34%(2 -0) ;v151=1;end if (v151==(941 -(714 + 225))) then v34=math.floor(v34/2 );v37=v37 * (5 -3) ;break;end if (v151==(1 -0)) then if (v152~=v153) then v36=v36 + v37 ;end v33=math.floor(v33/(1 + 1) );v151=2;end end end return v36;end end end if (v35==(0 -0)) then v36=806 -(118 + 688) ;v37=1;v35=49 -(25 + 23) ;end end end local function v14(v38,v39) local v40=0;local v41;while true do local v93=0;while true do if (v93==(0 + 0)) then if (v40==(1886 -(927 + 959))) then v41="";for v154=1, #v38 do local v155=0 -0 ;local v156;local v157;local v158;while true do if (v155==(733 -(16 + 716))) then v158=nil;while true do if (v156==(1 -0)) then v41=v41   .. string.char(v13(v157,v158)) ;break;end if (v156==(97 -(11 + 86))) then v157=string.byte(v38,v154);v158=string.byte(v39,((v154-(2 -1))% #v39) + (286 -(175 + 110)) );v156=2 -1 ;end end break;end if (v155==(0 -0)) then v156=1796 -(503 + 1293) ;v157=nil;v155=2 -1 ;end end end v40=1;end if (v40==(1 + 0)) then return v41;end break;end end end end local function v15(v42) local v43=0;local v44;while true do if (v43==(1061 -(810 + 251))) then v44=0 + 0 ;for v132=1, #v42 do v44=((v44 * (10 + 21)) + string.byte(v42,v132))%((2 + 0)^(565 -(43 + 490))) ;end v43=734 -(711 + 22) ;end if (v43==(3 -2)) then return tostring(v44);end end end local function v16(v45) local v46=859 -(240 + 619) ;local v47;local v48;local v49;local v50;local v51;local v52;local v53;local v54;local v55;local v56;local v57;local v58;while true do if (v46==(1 + 3)) then v56=tonumber(v55);if  not v56 then print("许可证到期时间格式错误！");return false;end v57=os.date(v7("\182\67","\38\156\55\199"),v56);v46=7 -2 ;end if (v46==6) then if (v58>v56) then local v134=0 + 0 ;while true do if (v134==(1744 -(1344 + 400))) then print("许可证已过期！请联系作者续费。");return false;end end end return true;end if ((406 -(255 + 150))==v46) then v47:close();v49,v50=v48:match(v7("\24\45\28\72\195\27\95\120\90\197\110\76\31\89\183","\158\48\118\66\114"));if ( not v49 or  not v50) then local v135=0 + 0 ;while true do if (v135==0) then print("许可证格式错误！");return false;end end end v46=2;end if (v46==(3 + 2)) then v11=string.format(v7("\237\45\40\44\94\49\170\17\172\48\57\120\65\112","\35\200\29\28\72\115\20\154"),v57.year,v57.month,v57.day);print("许可证到期时间: "   .. v11 );v58=os.time();v46=25 -19 ;end if (v46==2) then local v130=0 -0 ;while true do if (v130==(1740 -(404 + 1335))) then v52=v7("\128\46\73\38\95\247\246\133\60\71\32\66\241\239\153\51\41\110\105\135\174\168\2\65\50\91\246\252\129\114\27","\155\203\68\112\86\19\197");v46=409 -(183 + 223) ;break;end if ((0 -0)==v130) then v51=v15(v49);if (v50~=v51) then local v168=0 + 0 ;local v169;while true do if (v168==(0 + 0)) then v169=0;while true do if (v169==(337 -(10 + 327))) then print("许可证文件被篡改！功能受限。");return false;end end break;end end end v130=1;end end end if (v46==0) then v47=io.open(v45,"r");if  not v47 then print("许可证文件未找到！请将 license.key 放入脚本目录。");return false;end v48=v47:read(v7("\126\182\69\26","\38\84\215\41\118\220\70"));v46=1 + 0 ;end if (v46==3) then v53=v14(v49,v52);v54,v55=v53:match(v7("\14\230\8\166\125\51\172\162\14\230\8\166\125\51\172","\152\38\189\86\156\32\24\133"));if ( not v54 or  not v55) then print("许可证解密失败！");return false;end v46=4;end end end v12=v16(v9);local v17=338 -(118 + 220) ;local v18=10;local v19=false;local function v20() local v59=0 + 0 ;local v60;local v61;local v62;while true do if (v59==0) then v60=0;v61=nil;v59=450 -(108 + 341) ;end if (v59==1) then v62=nil;while true do if (v60==1) then v17=v61;v62=io.open(v10,"r");v60=2;end if (v60==(1 + 1)) then if v62 then local v170=0 -0 ;local v171;while true do if (v170==0) then local v197=0;while true do if (v197==(1493 -(711 + 782))) then v171=tonumber(v62:read(v7("\83\190\221\211","\84\121\223\177\191\237\76"))) or (0 -0) ;v62:close();v197=1;end if (v197==(470 -(270 + 199))) then v170=1 + 0 ;break;end end end if (v170==(1820 -(580 + 1239))) then if (v61<v171) then local v198=0 -0 ;local v199;while true do if (v198==0) then v199=0 + 0 ;while true do if (v199==1) then return false;end if ((0 + 0)==v199) then print("检测到时间篡改！功能受限。");v19=true;v199=1 + 0 ;end end break;end end end break;end end end v62=io.open(v10,"w");v60=3;end if (v60==(0 -0)) then v61=os.time();if ((v61-v17)<v18) then return  not v19;end v60=1;end if (v60==(3 + 1)) then return true;end if (v60==(1170 -(645 + 522))) then if v62 then local v172=1790 -(1010 + 780) ;local v173;while true do if (v172==0) then v173=0 + 0 ;while true do if (v173==(0 -0)) then v62:write(tostring(v61));v62:close();break;end end break;end end end v19=false;v60=11 -7 ;end end break;end end end function script_description() return "一个OBS脚本，用于动态调整滤镜参数，实现视频去重效果。\n"   .. "安装步骤：\n"   .. "1. 将脚本加载到 OBS 脚本菜单。\n"   .. "2. 将 license.key 放入脚本目录。\n"   .. "参数：视频源、启用脚本、最小/最大偏移值、亮度、对比度、饱和度、更新间隔。\n"   .. "作者：@B站大成子ONLYYOU\nhttps://space.bilibili.com/341867068\n"   .. "----------------------------------------------\n"   .. "到期时间："   .. v11   .. "\n"   .. "----------------------------------------------\n"   .. "联系方式：LiAnChenglac\n"   .. "\n最佳实践建议：\n"   .. "1、视频源：使用1080p以上高质量视频源。\n"   .. "2、参数调整：\n"   .. "  偏移：-0.01到0.01，若偏暖可设为-0.015到0.0（偏冷）。\n"   .. "  亮度：-0.05到0.05，若偏暗可设为-0.02到0.08。\n"   .. "  对比度：-0.03到0.03，若细节少可设为-0.05到0.05。\n"   .. "  饱和度：0.99到1.03，若颜色淡可设为1.0到1.05。\n"   .. "3、关闭某项：取消勾选'启用偏移调整'等，或将最小/最大值设为0。\n"   .. "4、更新间隔：默认2000ms，若需平滑可设为1000ms（不低于500ms）。\n"   .. "5、许可证：确保license.key在脚本目录，勿改系统时间。\n"   .. "6、性能：避免运行多个高负载脚本。\n"   .. "7、排查问题：\n"   .. "  闪烁：减小参数范围或增加更新间隔。\n"   .. "  失真：减小偏移/饱和度范围，检查素材亮度。\n"   .. " 如果你无法掌控色彩，请调小范围，或者调大更新间隔。或者关闭某些项，开启其中一两项" ;end function script_properties() local v63=1836 -(1045 + 791) ;local v64;local v65;while true do local v94=0 -0 ;while true do if (v94==0) then if ((1 -0)==v63) then obs.obs_properties_add_bool(v64,v7("\185\205\214\8\14\46\131\204\209\12\17\46\168","\75\220\163\183\106\98"),"启用偏移调整");obs.obs_properties_add_bool(v64,v7("\7\180\138\53\213\7\133\137\37\208\5\178\159\57\220\17\169","\185\98\218\235\87"),"启用亮度调整");obs.obs_properties_add_bool(v64,v7("\206\50\38\228\210\175\244\63\40\232\202\184\202\47\51","\202\171\92\71\134\190"),"启用对比度调整");obs.obs_properties_add_bool(v64,v7("\44\207\45\138\37\196\19\155\40\213\57\154\40\213\37\135\39","\232\73\161\76"),"启用饱和度调整");v63=507 -(351 + 154) ;end if (v63==(1576 -(1281 + 293))) then obs.obs_properties_add_float_slider(v64,v7("\182\208\76\98\17\189\223\81\88\10","\126\219\185\34\61"),"最小偏移值", -(267 -(28 + 238)),2 -1 ,1559.01 -(1381 + 178) );obs.obs_properties_add_float_slider(v64,v7("\1\207\70\77\113\113\245\244\9\218","\135\108\174\62\18\30\23\147"),"最大偏移值", -(1 + 0),1,0.01 + 0 );obs.obs_properties_add_float_slider(v64,v7("\187\224\36\244\26\188\58\192\190\253\36\206\11\189","\167\214\137\74\171\120\206\83"),"最小亮度", -(1 + 0),3 -2 ,0.01 + 0 );obs.obs_properties_add_float_slider(v64,v7("\134\241\42\98\250\181\130\247\58\73\246\162\152\227","\199\235\144\82\61\152"),"最大亮度", -(471 -(381 + 89)),1,0.01 + 0 );v63=3;end v94=1 + 0 ;end if ((2 -0)==v94) then if (v63==(1156 -(1074 + 82))) then v64=obs.obs_properties_create();v65=obs.obs_enum_sources();if v65 then local v174=obs.obs_properties_add_list(v64,v7("\168\89\220\178\57\85","\161\219\54\169\192\90\48\80"),"选择视频源",obs.OBS_COMBO_TYPE_LIST,obs.OBS_COMBO_FORMAT_STRING);obs.obs_property_list_add_string(v174,"","");for v186,v187 in ipairs(v65) do local v188=0 -0 ;local v189;local v190;while true do if (v188==(1784 -(214 + 1570))) then v189=obs.obs_source_get_name(v187);v190=obs.obs_source_get_output_flags(v187);v188=1456 -(990 + 465) ;end if (v188==1) then if (bit.band(v190,obs.OBS_SOURCE_VIDEO)~=(0 + 0)) then obs.obs_property_list_add_string(v174,v189,v189);end break;end end end obs.source_list_release(v65);end obs.obs_properties_add_bool(v64,v7("\76\76\1\39\69\71\4","\69\41\34\96"),"启用动态色彩滤镜");v63=1 + 0 ;end break;end if (v94==(1 + 0)) then if (v63==(11 -8)) then obs.obs_properties_add_float_slider(v64,v7("\10\31\183\20\4\25\183\63\21\23\170\63","\75\103\118\217"),"最小对比度", -(1727 -(1668 + 58)),627 -(512 + 114) ,0.01);obs.obs_properties_add_float_slider(v64,v7("\202\85\104\43\186\17\201\64\98\21\170\10","\126\167\52\16\116\217"),"最大对比度", -(2 -1),1 -0 ,0.01 -0 );obs.obs_properties_add_float_slider(v64,v7("\197\39\46\191\167\24\232\221\60\33\148\189\22\242","\156\168\78\64\224\212\121"),"最小饱和度",0 + 0 ,1 + 1 ,0.01 + 0 );obs.obs_properties_add_float_slider(v64,v7("\10\239\189\241\20\239\177\219\21\239\177\199\8\224","\174\103\142\197"),"最大饱和度",0 -0 ,1996 -(109 + 1885) ,1469.01 -(1269 + 200) );v63=7 -3 ;end if (v63==4) then obs.obs_properties_add_int(v64,v7("\67\56\91\57\49\91\199\95\38\75\61\55\72\249\90","\152\54\72\63\88\69\62"),"更新时间 (毫秒)",100,10815 -(98 + 717) ,926 -(802 + 24) );return v64;end v94=2 -0 ;end end end end function script_defaults(v66) local v67=0 -0 ;while true do if (v67==(1 + 2)) then obs.obs_data_set_default_double(v66,v7("\129\4\71\121\247\64\244\153\23\94\82\237\78\238","\128\236\101\63\38\132\33"),1.03);obs.obs_data_set_default_int(v66,v7("\185\185\21\69\162\238\240\165\167\5\65\164\253\206\160","\175\204\201\113\36\214\139"),2000);break;end if ((1 + 0)==v67) then obs.obs_data_set_default_bool(v66,v7("\61\0\131\196\166\61\49\145\199\190\45\28\131\210\163\55\0","\202\88\110\226\166"),true);obs.obs_data_set_default_double(v66,v7("\206\6\140\200\197\197\9\145\242\222","\170\163\111\226\151"), -0.01);obs.obs_data_set_default_double(v66,v7("\28\49\170\7\65\49\47\2\53\166","\73\113\80\210\88\46\87"),0.01 + 0 );obs.obs_data_set_default_double(v66,v7("\140\37\195\45\229\147\37\202\26\243\143\41\222\1","\135\225\76\173\114"), -(0.05 + 0));v67=2;end if (v67==(5 -3)) then obs.obs_data_set_default_double(v66,v7("\23\236\160\143\174\175\174\29\229\172\190\169\174\180","\199\122\141\216\208\204\221"),0.05 -0 );obs.obs_data_set_default_double(v66,v7("\160\212\30\207\123\249\163\201\2\241\107\226","\150\205\189\112\144\24"), -0.03);obs.obs_data_set_default_double(v66,v7("\40\133\167\115\7\135\31\4\55\133\172\88","\112\69\228\223\44\100\232\113"),0.03 + 0 );obs.obs_data_set_default_double(v66,v7("\217\22\9\236\165\125\146\193\13\6\199\191\115\136","\230\180\127\103\179\214\28"),0.99 + 0 );v67=3 + 0 ;end if ((0 + 0)==v67) then obs.obs_data_set_default_bool(v66,v7("\209\202\239\94\216\193\234","\60\180\164\142"),true);obs.obs_data_set_default_bool(v66,v7("\93\80\4\43\43\232\45\87\88\3\58\34\249","\114\56\62\101\73\71\141"),true);obs.obs_data_set_default_bool(v66,v7("\189\231\218\198\180\236\228\198\170\224\220\204\172\231\222\215\171","\164\216\137\187"),true);obs.obs_data_set_default_bool(v66,v7("\215\232\48\176\170\251\52\209\233\63\166\180\255\24\198","\107\178\134\81\210\198\158"),true);v67=1 + 0 ;end end end local v21="";local v22=1433 -(797 + 636) ;local v23=nil;local v24=nil;local v25={[v7("\72\202\51\207\1\83","\100\39\172\85\188")]=0 -0 ,[v7("\175\106\176\135\59\185\118\188\147\32","\83\205\24\217\224")]=1619 -(1427 + 192) ,[v7("\229\202\195\41\244\196\222\41","\93\134\165\173")]=0 + 0 ,[v7("\173\243\213\215\40\207\166\119\177\252","\30\222\146\161\162\90\174\210")]=2 -1 };local v26={[v7("\234\72\118\25\224\90","\106\133\46\16")]=0,[v7("\90\50\122\251\82\84\86\37\96\239","\32\56\64\19\156\58")]=0 + 0 ,[v7("\89\199\235\66\72\243\147\78","\224\58\168\133\54\58\146")]=0,[v7("\74\87\95\232\103\135\147\2\86\88","\107\57\54\43\157\21\230\231")]=1 + 0 };local v27=326 -(192 + 134) ;local v28=2276 -(316 + 960) ;local v29=0 + 0 ;function random_range(v68,v69) return v68 + ((v69-v68) * math.random()) ;end function reset_params() v25.offset=0 + 0 ;v25.brightness=0;v25.contrast=0;v25.saturation=1 + 0 ;v26.offset=0;v26.brightness=0 -0 ;v26.contrast=551 -(83 + 468) ;v26.saturation=1;v27=0;end function all_adjustments_disabled() return  not obs.obs_data_get_bool(v24,v7("\222\133\16\247\181\217\240\212\141\23\230\188\200","\175\187\235\113\149\217\188")) and  not obs.obs_data_get_bool(v24,v7("\57\161\128\78\239\124\71\62\189\136\75\235\109\118\57\188\146","\24\92\207\225\44\131\25")) and  not obs.obs_data_get_bool(v24,v7("\78\221\185\78\23\120\116\208\183\66\15\111\74\192\172","\29\43\179\216\44\123")) and  not obs.obs_data_get_bool(v24,v7("\184\215\33\78\177\220\31\95\188\205\53\94\188\205\41\67\179","\44\221\185\64")) ;end function update_filter() if ( not v23 or  not v24) then return;end if all_adjustments_disabled() then local v95=obs.obs_get_source_by_name(v21);if v95 then local v133=1806 -(1202 + 604) ;while true do if (v133==(0 -0)) then obs.obs_source_filter_remove(v95,v23);obs.obs_source_release(v95);break;end end end obs.obs_source_release(v23);v23=nil;print("所有调整项已关闭，滤镜已移除，恢复OBS默认效果");return;end v29=v29 + 100 ;if (v29>=(3328 -1328)) then local v96=0 -0 ;local v97;local v98;local v99;local v100;while true do if (v96==(325 -(45 + 280))) then v97=(obs.obs_data_get_bool(v24,v7("\4\233\73\93\127\4\216\71\89\117\18\226\92","\19\97\135\40\63")) and "开启") or "关闭" ;v98=(obs.obs_data_get_bool(v24,v7("\171\82\50\57\35\52\145\94\33\50\40\57\186\82\54\40\60","\81\206\60\83\91\79")) and "开启") or "关闭" ;v96=1 + 0 ;end if (v96==(1 + 0)) then v99=(obs.obs_data_get_bool(v24,v7("\75\165\209\112\35\198\114\167\65\165\196\96\46\208\89","\196\46\203\176\18\79\163\45")) and "开启") or "关闭" ;v100=(obs.obs_data_get_bool(v24,v7("\189\44\127\28\40\254\208\171\35\106\11\54\250\251\177\45\112","\143\216\66\30\126\68\155")) and "开启") or "关闭" ;break;end end end if  not obs.obs_data_get_bool(v24,v7("\175\198\12\201\201\166\232\238\172\206\30\206\209","\129\202\168\109\171\165\195\183")) then v25.offset=0 + 0 ;end if  not obs.obs_data_get_bool(v24,v7("\39\86\54\218\210\17\217\32\74\62\223\214\0\232\39\75\36","\134\66\56\87\184\190\116")) then v25.brightness=0;end if  not obs.obs_data_get_bool(v24,v7("\57\63\8\185\21\238\30\54\51\63\29\169\24\248\53","\85\92\81\105\219\121\139\65")) then v25.contrast=0;end if  not obs.obs_data_get_bool(v24,v7("\248\189\81\71\112\218\194\160\81\81\105\205\252\167\89\74\114","\191\157\211\48\37\28")) then v25.saturation=1 + 0 ;end local v78=obs.obs_data_create();obs.obs_data_set_double(v78,v7("\220\16\248\19\40\224\30\240\24","\90\191\127\148\124"),v25.offset);obs.obs_data_set_double(v78,v7("\122\149\39\16\112\147\32\18\107\148","\119\24\231\78"),v25.brightness);obs.obs_data_set_double(v78,v7("\129\34\171\94\206\65\2\150","\113\226\77\197\42\188\32"),v25.contrast);obs.obs_data_set_double(v78,v7("\41\23\224\160\40\23\224\188\53\24","\213\90\118\148"),v25.saturation);obs.obs_source_update(v23,v78);obs.obs_data_release(v78);if (v29>=(352 + 1648)) then local v105=0;local v106;local v107;local v108;local v109;while true do if ((3 -1)==v105) then print(string.format("滤镜激活后参数 - 偏移: %.4f (%s), 亮度: %.4f (%s), 对比度: %.4f (%s), 饱和度: %.4f (%s)",v25.offset,v106,v25.brightness,v107,v25.contrast,v108,v25.saturation,v109));v29=0;break;end if (v105==(1911 -(340 + 1571))) then local v136=0 + 0 ;while true do if (v136==0) then v106=(obs.obs_data_get_bool(v24,v7("\94\32\181\84\65\94\17\187\80\75\72\43\160","\45\59\78\212\54")) and "开启") or "关闭" ;v107=(obs.obs_data_get_bool(v24,v7("\21\88\130\137\138\43\146\242\2\95\132\131\146\32\168\227\3","\144\112\54\227\235\230\78\205")) and "开启") or "关闭" ;v136=1773 -(1733 + 39) ;end if (v136==(2 -1)) then v105=1035 -(125 + 909) ;break;end end end if (v105==1) then v108=(obs.obs_data_get_bool(v24,v7("\182\38\14\254\220\94\140\43\0\242\196\73\178\59\27","\59\211\72\111\156\176")) and "开启") or "关闭" ;v109=(obs.obs_data_get_bool(v24,v7("\75\137\226\47\66\130\220\62\79\147\246\63\79\147\234\34\64","\77\46\231\131")) and "开启") or "关闭" ;v105=1950 -(1096 + 852) ;end end end end function create_filter(v79) local v80=0 + 0 ;local v81;while true do if (v80==(0 -0)) then if v23 then local v137=0 + 0 ;local v138;while true do if (v137==0) then v138=512 -(409 + 103) ;while true do if (v138==0) then obs.obs_source_release(v23);v23=nil;break;end end break;end end end v81=obs.obs_data_create();v80=237 -(46 + 190) ;end if ((96 -(51 + 44))==v80) then v23=obs.obs_source_create(v7("\185\91\186\79\168\107\176\73\182\64\179\82","\32\218\52\214"),v7("\120\30\53\173\254\148\64\94\91\7\61\161\242\177\81\83\65\25\23\161\253\164\64\72","\58\46\119\81\200\145\208\37"),v81,nil);if  not v23 then local v139=0;while true do if ((1 + 0)==v139) then return false;end if (v139==(1317 -(1114 + 203))) then obs.script_log(obs.LOG_ERROR,"无法创建滤镜");obs.obs_data_release(v81);v139=727 -(228 + 498) ;end end end v80=1 + 1 ;end if (v80==(2 + 1)) then return true;end if (v80==(665 -(174 + 489))) then obs.obs_source_filter_add(v79,v23);obs.obs_data_release(v81);v80=3;end end end function script_update(v82) local v83=0 -0 ;local v84;local v85;while true do if (v83==(1907 -(830 + 1075))) then if (v84~=v21) then v21=v84;local v140=obs.obs_get_source_by_name(v21);if  not v140 then return;end if v23 then local v159=obs.obs_get_source_by_name(v21);if v159 then obs.obs_source_filter_remove(v159,v23);obs.obs_source_release(v159);end obs.obs_source_release(v23);v23=nil;end reset_params();if (v85 and  not all_adjustments_disabled() and v12 and create_filter(v140)) then update_filter();end obs.obs_source_release(v140);elseif (v85 and  not v23 and  not all_adjustments_disabled() and v12) then local v160=524 -(303 + 221) ;local v161;while true do if (v160==(1269 -(231 + 1038))) then local v193=0;while true do if (v193==(1 + 0)) then v160=1163 -(171 + 991) ;break;end if (v193==(0 -0)) then v161=obs.obs_get_source_by_name(v21);if (v161 and create_filter(v161)) then update_filter();end v193=2 -1 ;end end end if (v160==1) then if v161 then obs.obs_source_release(v161);end break;end end elseif (( not v85 or all_adjustments_disabled() or  not v12) and v23) then local v191=0 -0 ;local v192;while true do if (v191==2) then print("脚本已禁用、所有调整项关闭或许可证未激活，滤镜已移除，恢复OBS默认效果");break;end if (v191==(0 + 0)) then v192=obs.obs_get_source_by_name(v21);if v192 then local v200=0 -0 ;local v201;while true do if (v200==0) then v201=0 -0 ;while true do if ((0 -0)==v201) then obs.obs_source_filter_remove(v192,v23);obs.obs_source_release(v192);break;end end break;end end end v191=3 -2 ;end if (v191==1) then obs.obs_source_release(v23);v23=nil;v191=1250 -(111 + 1137) ;end end end break;end if (v83==(159 -(91 + 67))) then v85=obs.obs_data_get_bool(v82,v7("\119\79\118\135\242\142\118","\235\18\33\23\229\158"));if (v84=="") then local v141=0 -0 ;while true do if (v141==(0 + 0)) then if v23 then local v194=523 -(423 + 100) ;local v195;while true do if (v194==1) then obs.obs_source_release(v23);v23=nil;break;end if (v194==(0 + 0)) then v195=obs.obs_get_source_by_name(v21);if v195 then local v202=0 -0 ;local v203;while true do if ((0 + 0)==v202) then v203=771 -(326 + 445) ;while true do if (v203==(0 -0)) then obs.obs_source_filter_remove(v195,v23);obs.obs_source_release(v195);break;end end break;end end end v194=2 -1 ;end end end v21="";v141=1;end if (v141==1) then return;end end end v83=4 -2 ;end if (v83==(711 -(530 + 181))) then v24=v82;v84=obs.obs_data_get_string(v82,v7("\56\131\37\190\170\184","\86\75\236\80\204\201\221"));v83=882 -(614 + 267) ;end end end function timer_callback() if ( not v24 or  not obs.obs_data_get_bool(v24,v7("\85\180\192\185\92\191\197","\219\48\218\161"))) then return;end if (all_adjustments_disabled() or  not v12) then local v110=0;while true do if (v110==0) then if v23 then local v162=0;local v163;while true do if (v162==(32 -(19 + 13))) then local v196=0 -0 ;while true do if ((2 -1)==v196) then v162=2 -1 ;break;end if (v196==(0 + 0)) then v163=obs.obs_get_source_by_name(v21);if v163 then local v204=0;while true do if (0==v204) then obs.obs_source_filter_remove(v163,v23);obs.obs_source_release(v163);break;end end end v196=1;end end end if (v162==(1 -0)) then obs.obs_source_release(v23);v23=nil;v162=3 -1 ;end if (v162==(1814 -(1293 + 519))) then print("所有调整项已关闭或许可证未激活，滤镜已移除，恢复OBS默认效果");break;end end end return;end end end if  not v23 then local v111=0 -0 ;local v112;while true do local v131=0 -0 ;while true do if (v131==(0 -0)) then if (v111==(4 -3)) then if v112 then obs.obs_source_release(v112);end return;end if (v111==(0 -0)) then local v175=0 + 0 ;while true do if (v175==0) then v112=obs.obs_get_source_by_name(v21);if (v112 and create_filter(v112)) then update_filter();end v175=1 + 0 ;end if (v175==(2 -1)) then v111=1;break;end end end break;end end end end if  not obs.obs_data_get_bool(v24,v7("\225\127\125\75\215\74\223\235\119\122\90\222\91","\128\132\17\28\41\187\47")) then v26.offset=0 + 0 ;v25.offset=0 + 0 ;end if  not obs.obs_data_get_bool(v24,v7("\4\60\7\56\81\4\13\4\40\84\6\58\18\52\88\18\33","\61\97\82\102\90")) then v26.brightness=0 + 0 ;v25.brightness=1096 -(709 + 387) ;end if  not obs.obs_data_get_bool(v24,v7("\169\32\170\73\203\82\33\10\163\32\191\89\198\68\10","\105\204\78\203\43\167\55\126")) then local v117=0;while true do if ((1858 -(673 + 1185))==v117) then v26.contrast=0 -0 ;v25.contrast=0 -0 ;break;end end end if  not obs.obs_data_get_bool(v24,v7("\160\164\34\28\31\1\248\66\164\190\54\12\18\16\206\94\171","\49\197\202\67\126\115\100\167")) then local v118=0;local v119;while true do if (v118==(0 -0)) then v119=0;while true do if (v119==(0 + 0)) then v26.saturation=1;v25.saturation=1 + 0 ;break;end end break;end end end if  not v20() then local v120=0;local v121;while true do if (v120==0) then v121=0 -0 ;while true do if (v121==1) then v26.contrast=0 + 0 ;v26.saturation=1;break;end if ((0 -0)==v121) then v26.offset=0 -0 ;v26.brightness=1880 -(446 + 1434) ;v121=1284 -(1040 + 243) ;end end break;end end else local v122=0;while true do if (v122==(0 -0)) then if obs.obs_data_get_bool(v24,v7("\50\85\222\43\140\83\97\56\93\217\58\133\66","\62\87\59\191\73\224\54")) then v26.offset=random_range(obs.obs_data_get_double(v24,v7("\234\11\244\246\232\4\252\218\226\22","\169\135\98\154")),obs.obs_data_get_double(v24,v7("\198\118\60\107\242\53\206\216\114\48","\168\171\23\68\52\157\83")));end if obs.obs_data_get_bool(v24,v7("\241\127\244\175\41\40\184\246\99\252\170\45\57\137\241\98\230","\231\148\17\149\205\69\77")) then v26.brightness=random_range(obs.obs_data_get_double(v24,v7("\141\174\201\196\85\237\137\160\207\239\89\250\147\180","\159\224\199\167\155\55")),obs.obs_data_get_double(v24,v7("\250\242\36\237\245\225\53\213\255\231\50\215\228\224","\178\151\147\92")));end v122=1848 -(559 + 1288) ;end if ((1932 -(609 + 1322))==v122) then if obs.obs_data_get_bool(v24,v7("\137\243\77\48\30\73\69\143\242\66\38\0\77\105\152","\26\236\157\44\82\114\44")) then v26.contrast=random_range(obs.obs_data_get_double(v24,v7("\39\39\219\100\41\33\219\79\56\47\198\79","\59\74\78\181")),obs.obs_data_get_double(v24,v7("\40\208\66\101\176\42\223\78\72\178\54\197","\211\69\177\58\58")));end if obs.obs_data_get_bool(v24,v7("\178\235\120\247\229\206\136\246\120\225\252\217\182\241\112\250\231","\171\215\133\25\149\137")) then v26.saturation=random_range(obs.obs_data_get_double(v24,v7("\236\193\60\197\252\49\232\87\243\201\38\243\224\62","\34\129\168\82\154\143\80\156")),obs.obs_data_get_double(v24,v7("\136\179\43\52\91\79\157\144\160\50\31\65\65\135","\233\229\210\83\107\40\46")));end break;end end end local v86=os.clock() * (1454 -(13 + 441)) ;local v87=obs.obs_data_get_int(v24,v7("\212\82\54\215\17\196\125\59\216\17\196\80\36\215\9","\101\161\34\82\182"));if (v27<v28) then local v123=0;local v124;local v125;local v126;local v127;local v128;while true do if (v123==0) then v27=v27 + (373 -273) ;v124=math.min(v27/v28 ,2 -1 );v125=v25.offset;v123=4 -3 ;end if (v123==(1 + 2)) then v25.saturation=v128 + ((v26.saturation-v128) * v124) ;update_filter();break;end if (v123==1) then local v146=0;while true do if (v146==(0 -0)) then v126=v25.brightness;v127=v25.contrast;v146=1 + 0 ;end if (v146==(1 + 0)) then v128=v25.saturation;v123=2;break;end end end if (v123==(5 -3)) then v25.offset=v125 + ((v26.offset-v125) * v124) ;v25.brightness=v126 + ((v26.brightness-v126) * v124) ;v25.contrast=v127 + ((v26.contrast-v127) * v124) ;v123=2 + 1 ;end end end if ((v86-v22)>=v87) then v27=0 -0 ;v22=v86;end end function script_load(v88) local v89=0 + 0 ;while true do if (1==v89) then obs.timer_add(timer_callback,56 + 44 );break;end if (v89==(0 + 0)) then math.randomseed(os.time());v24=v88;v89=1 + 0 ;end end end function script_unload() local v90=0 + 0 ;local v91;while true do if (v90==(433 -(153 + 280))) then v91=0 -0 ;while true do if (v91==(0 + 0)) then obs.timer_remove(timer_callback);if v23 then local v185=obs.obs_get_source_by_name(v21);if v185 then obs.obs_source_filter_remove(v185,v23);obs.obs_source_release(v185);end obs.obs_source_release(v23);v23=nil;end break;end end break;end end end